(this["webpackJsonpleaderbored-ui"]=this["webpackJsonpleaderbored-ui"]||[]).push([[13],{1031:function(e,a,t){"use strict";t.r(a);var n=t(31),r=t(0),l=t.n(r),c=t(796),o=t(843),s=t(813),i=t(1033),m=t(1027),u=t(831),d=t(363),p=t(28),b=t(48),f=t(3),E=t(846),h=t(1036),g=t(830),v=t(800),y=t(824),x=t(908),j=t.n(x),O=t(80),w=t(374),N=Object(c.a)((function(){return{root:{}}}));var k=function(e){var a=e.className,t=Object(p.a)(e,["className"]),n=N(),r=Object(O.a)();return l.a.createElement("div",Object.assign({className:Object(f.a)(n.root,a)},t),l.a.createElement(E.a,Object.assign({container:!0,spacing:3,justify:"space-between",className:Object(f.a)(n.root,a)},t),l.a.createElement(E.a,{item:!0},l.a.createElement(h.a,{separator:l.a.createElement(j.a,{fontSize:"small"}),"aria-label":"breadcrumb"},l.a.createElement(g.a,{color:"inherit",to:"/app",component:b.a},"Dashboard"),l.a.createElement(v.a,{color:"textPrimary"},"Account")),l.a.createElement(v.a,{variant:"h3",color:"textPrimary"},"Settings")),l.a.createElement(E.a,{item:!0},l.a.createElement(y.a,{color:"secondary",variant:"contained",onClick:function(){r(Object(w.c)())}},"Feedback"))))},S=t(858),C=t(844),q=t(845),B=t(14),P=t.n(B),_=t(259),T=t.n(_),W=P()((function(e){return{root:{},name:{marginTop:e.spacing(1)},avatar:{height:100,width:100}}}));var F=function(e){var a=e.user,t=e.className,n=Object(p.a)(e,["user","className"]),r=W();return l.a.createElement(C.a,Object.assign({className:Object(f.a)(r.root,t)},n),l.a.createElement(q.a,null,l.a.createElement(s.a,{display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"},l.a.createElement(S.a,{className:r.avatar},l.a.createElement(T.a,{email:a.email})),l.a.createElement(g.a,{color:"inherit",href:"https://codeforces.com/profile/".concat(a.handle),target:"_blank",rel:"noopener"},l.a.createElement(v.a,{className:r.name,gutterBottom:!0,variant:"h3",color:"textPrimary"},"".concat(a.full_name))),l.a.createElement(v.a,{color:"textSecondary",variant:"h1"},a.overall_score))))},z=t(36),R=t.n(z),H=t(70),I=t(216),L=t(105),A=t(887),D=t(811),G=t(839),J=t(97),M=["FE","SE","TE","BE","Other"],V=P()((function(){return{root:{}}}));var U=function(e){var a=e.user,t=e.className,n=Object(p.a)(e,["user","className"]),r=V(),c=Object(L.b)().enqueueSnackbar,o=Object(O.a)(),i=a.full_name.split(" ");return l.a.createElement(I.a,{enableReinitialize:!0,initialValues:{firstName:i.shift(),lastName:i,email:a.email,handle:a.handle,class_type:a.class_type},onSubmit:function(){var e=Object(H.a)(R.a.mark((function e(a,t){var n,r,l,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.resetForm,r=t.setErrors,l=t.setStatus,s=t.setSubmitting,e.prev=1,e.next=4,o(Object(J.e)({class_type:a.class_type}));case 4:n(),l({success:!0}),c("Profile updated",{variant:"success"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),l({success:!1}),r({submit:e.t0.message});case 13:return e.prev=13,s(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(a,t){return e.apply(this,arguments)}}()},(function(e){var a=e.errors,c=e.handleBlur,o=e.handleChange,i=e.handleSubmit,m=e.isSubmitting,d=e.touched,p=e.values;return l.a.createElement("form",{onSubmit:i},l.a.createElement(C.a,Object.assign({className:Object(f.a)(r.root,t)},n),l.a.createElement(A.a,{title:"Profile"}),l.a.createElement(u.a,null),l.a.createElement(q.a,null,l.a.createElement(E.a,{container:!0,spacing:4},l.a.createElement(E.a,{item:!0,md:6,xs:12},l.a.createElement(G.a,{error:Boolean(d.firstName&&a.firstName),fullWidth:!0,helperText:d.firstName&&a.firstName,label:"First Name",name:"firstName",type:"firstName",value:p.firstName,variant:"outlined",disabled:!0})),l.a.createElement(E.a,{item:!0,md:6,xs:12},l.a.createElement(G.a,{error:Boolean(d.lastName&&a.lastName),fullWidth:!0,helperText:d.lastName&&a.lastName,label:"Last Name",name:"lastName",type:"lastName",value:p.lastName,variant:"outlined",disabled:!0})),l.a.createElement(E.a,{item:!0,md:6,xs:12},l.a.createElement(G.a,{error:Boolean(d.email&&a.email),fullWidth:!0,helperText:d.email&&a.email?a.email:"We will use this email to contact you",label:"Email Address",name:"email",type:"email",value:p.email,variant:"outlined",disabled:!0})),l.a.createElement(E.a,{item:!0,md:6,xs:12},l.a.createElement(G.a,{error:Boolean(d.handle&&a.handle),fullWidth:!0,helperText:d.handle&&a.handle,label:"Codeforces handle",name:"handle",onBlur:c,onChange:o,value:p.handle,variant:"outlined",disabled:!0})),l.a.createElement(E.a,{item:!0,md:6,xs:12},l.a.createElement(G.a,{fullWidth:!0,label:"Select Class",name:"class_type",onChange:o,select:!0,SelectProps:{native:!0},value:p.class_type,variant:"outlined"},M.map((function(e){return l.a.createElement("option",{key:e,value:e},e)}))))),a.submit&&l.a.createElement(s.a,{mt:3},l.a.createElement(D.a,{error:!0},a.submit))),l.a.createElement(u.a,null),l.a.createElement(s.a,{p:2,display:"flex",justifyContent:"flex-end"},l.a.createElement(y.a,{color:"secondary",disabled:m,type:"submit",variant:"contained"},"Save Changes"))))}))},K=Object(c.a)((function(){return{root:{}}}));var Q=function(e){var a=e.className,t=Object(p.a)(e,["className"]),n=K(),r=Object(O.b)((function(e){return e.login})).user;return l.a.createElement(E.a,Object.assign({className:Object(f.a)(n.root,a),container:!0,spacing:3},t),l.a.createElement(E.a,{item:!0,lg:4,md:6,xl:3,xs:12},l.a.createElement(F,{user:r})),l.a.createElement(E.a,{item:!0,lg:8,md:6,xl:9,xs:12},l.a.createElement(U,{user:r})))},X=t(88),Y=t(134),Z=P()((function(){return{root:{}}}));var $=function(e){var a=e.className,t=Object(p.a)(e,["className"]),n=Z(),r=Object(L.b)().enqueueSnackbar;return l.a.createElement(I.a,{initialValues:{password:"",passwordConfirm:""},validationSchema:Y.a().shape({password:Y.c().min(7,"Must be at least 7 characters").max(255).required("Required"),passwordConfirm:Y.c().oneOf([Y.b("password"),null],"Passwords must match").required("Required")}),onSubmit:function(){var e=Object(H.a)(R.a.mark((function e(a,t){var n,l,c,o,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.resetForm,l=t.setErrors,c=t.setStatus,o=t.setSubmitting,e.prev=1,e.next=4,X.a.put("https://api.cp-leaderboard.me/user/me",{password:a.password});case 4:n(),c({success:!0}),o(!1),r("Password updated",{variant:"success"}),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),s=e.t0.response&&e.t0.response.data.detail||"Something went wrong",c({success:!1}),l({submit:s}),o(!1);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a,t){return e.apply(this,arguments)}}()},(function(e){var r=e.errors,c=e.handleBlur,o=e.handleChange,i=e.handleSubmit,m=e.isSubmitting,d=e.touched,p=e.values;return l.a.createElement("form",{onSubmit:i},l.a.createElement(C.a,Object.assign({className:Object(f.a)(n.root,a)},t),l.a.createElement(A.a,{title:"Change Password"}),l.a.createElement(u.a,null),l.a.createElement(q.a,null,l.a.createElement(E.a,{container:!0,spacing:3},l.a.createElement(E.a,{item:!0,md:4,sm:6,xs:12},l.a.createElement(G.a,{error:Boolean(d.password&&r.password),fullWidth:!0,helperText:d.password&&r.password,label:"Password",name:"password",onBlur:c,onChange:o,type:"password",value:p.password,variant:"outlined"})),l.a.createElement(E.a,{item:!0,md:4,sm:6,xs:12},l.a.createElement(G.a,{error:Boolean(d.passwordConfirm&&r.passwordConfirm),fullWidth:!0,helperText:d.passwordConfirm&&r.passwordConfirm,label:"Password Confirmation",name:"passwordConfirm",onBlur:c,onChange:o,type:"password",value:p.passwordConfirm,variant:"outlined"}))),r.submit&&l.a.createElement(s.a,{mt:3},l.a.createElement(D.a,{error:!0},r.submit))),l.a.createElement(u.a,null),l.a.createElement(s.a,{p:2,display:"flex",justifyContent:"flex-end"},l.a.createElement(y.a,{color:"secondary",disabled:m,type:"submit",variant:"contained"},"Change Password"))))}))},ee=t(113),ae=t(801),te=t(530),ne=t(181),re=t(805),le=t(125),ce=t(532),oe=t(1023),se=t(1024),ie=t(1025),me=t(909),ue=t.n(me),de=Object(c.a)((function(e){return{root:{"& .ql-toolbar":{borderLeft:"none",borderTop:"none",borderRight:"none",borderBottom:"1px solid ".concat(e.palette.divider),"& .ql-picker-label:hover":{color:e.palette.secondary.main},"& .ql-picker-label.ql-active":{color:e.palette.secondary.main},"& .ql-picker-item:hover":{color:e.palette.secondary.main},"& .ql-picker-item.ql-selected":{color:e.palette.secondary.main},"& button:hover":{color:e.palette.secondary.main,"& .ql-stroke":{stroke:e.palette.secondary.main}},"& button:focus":{color:e.palette.secondary.main,"& .ql-stroke":{stroke:e.palette.secondary.main}},"& button.ql-active":{"& .ql-stroke":{stroke:e.palette.secondary.main}},"& .ql-stroke":{stroke:e.palette.text.primary},"& .ql-picker":{color:e.palette.text.primary},"& .ql-picker-options":{padding:e.spacing(2),backgroundColor:e.palette.background.default,border:"none",boxShadow:e.shadows[10],borderRadius:e.shape.borderRadius}},"& .ql-container":{border:"none","& .ql-editor":{fontFamily:e.typography.fontFamily,fontSize:16,color:e.palette.text.primary,"&.ql-blank::before":{color:e.palette.text.secondary}}}},stepButton:{"& + &":{marginLeft:e.spacing(2)}}}}));var pe=function(e){var a=e.className,t=Object(p.a)(e,["className"]),n=de();return l.a.createElement(ue.a,Object.assign({className:Object(f.a)(n.root,a)},t))},be=Object(c.a)((function(e){return{root:{maxWidth:"calc(100% - ".concat(e.spacing(6),"px)"),maxHeight:"calc(100% - ".concat(e.spacing(6),"px)"),width:600,position:"fixed",bottom:0,right:0,margin:e.spacing(3),outline:"none",zIndex:2e3,display:"flex",flexDirection:"column",minHeight:500},fullScreen:{height:"100%",width:"100%"},input:{width:"100%"},editor:{flexGrow:1,"& .ql-editor":{minHeight:300}},action:{marginRight:e.spacing(1)}}}));var fe=function(){var e=be(),a=Object(O.a)(),t=Object(L.b)().enqueueSnackbar,c=Object(O.b)((function(e){return e.account})).newMessageOpen,o=Object(O.b)((function(e){return e.login})).user,i=Object(r.useState)(!1),m=Object(n.a)(i,2),d=m[0],p=m[1],b=Object(r.useState)(""),E=Object(n.a)(b,2),h=E[0],g=E[1],x=Object(r.useState)(""),j=Object(n.a)(x,2),N=j[0],k=j[1];return c?l.a.createElement(ae.a,null,l.a.createElement(te.a,{open:d}),l.a.createElement(ne.a,{className:Object(f.a)(e.root,Object(ee.a)({},e.fullScreen,d)),elevation:12},l.a.createElement(s.a,{bgcolor:"background.dark",display:"flex",alignItems:"center",py:1,px:2},l.a.createElement(v.a,{variant:"h5",color:"textPrimary"},"New Feedback"),l.a.createElement(s.a,{flexGrow:1}),d?l.a.createElement(re.a,{onClick:function(){p(!1)}},l.a.createElement(le.a,{fontSize:"small"},l.a.createElement(oe.a,null))):l.a.createElement(re.a,{onClick:function(){p(!0)}},l.a.createElement(le.a,{fontSize:"small"},l.a.createElement(se.a,null))),l.a.createElement(re.a,{onClick:function(){a(Object(w.a)())}},l.a.createElement(le.a,{fontSize:"small"},l.a.createElement(ie.a,null)))),l.a.createElement(s.a,{p:2},l.a.createElement(ce.a,{className:e.input,disableUnderline:!0,placeholder:"Title",onChange:function(e){k(e.target.value)},value:N})),l.a.createElement(u.a,null),l.a.createElement(pe,{className:e.editor,onChange:function(e){g(e)},placeholder:"Leave a message",value:h}),l.a.createElement(u.a,null),l.a.createElement(s.a,{display:"flex",alignItems:"center",py:1,px:2},l.a.createElement(y.a,{color:"secondary",variant:"contained",className:e.action,onClick:function(){console.log(o.full_name+N+h),X.a.post("https://api.cp-leaderboard.me/user/feedback?userName=".concat(o.full_name,"&title=").concat(N,"&feedback=").concat(h)).then((function(e){t("Feedback Sent",{variant:"success"})}))}},"Send")))):null},Ee=Object(c.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));a.default=function(){var e=Ee(),a=Object(r.useState)("general"),t=Object(n.a)(a,2),c=t[0],p=t[1];return l.a.createElement(d.a,{className:e.root,title:"Settings"},l.a.createElement(o.a,{maxWidth:"lg"},l.a.createElement(k,null),l.a.createElement(s.a,{mt:3},l.a.createElement(i.a,{onChange:function(e,a){p(a)},scrollButtons:"auto",value:c,variant:"scrollable",textColor:"secondary",className:e.tabs},[{value:"general",label:"General"},{value:"security",label:"Security"}].map((function(e){return l.a.createElement(m.a,{key:e.value,label:e.label,value:e.value})})))),l.a.createElement(u.a,null),l.a.createElement(s.a,{mt:3},"general"===c&&l.a.createElement(Q,null),"security"===c&&l.a.createElement($,null))),l.a.createElement(fe,null))}}}]);