(this["webpackJsonpleaderbored-ui"]=this["webpackJsonpleaderbored-ui"]||[]).push([[13],{1037:function(e,a,t){"use strict";t.r(a);var n=t(31),r=t(0),l=t.n(r),c=t(14),o=t.n(c),i=t(19),s=t(88),m=t(215),u=t.n(m),p=t(363);function E(){var e=l.a.useRef(!0);return l.a.useEffect((function(){return function(){e.current=!1}}),[]),e}var d=t(115),f=t(28),y=t(259),b=t.n(y),g=t(3),h=t(840),v=t(813),S=t(844),x=t(831),O=t(1026),C=t(125),j=t(1025),k=t(846),w=t(1044),T=t(1038),N=t(839),P=t(1027),I=t(113),F=t(1014),D=t.n(F),R=t(1015),G=t.n(R),H=t(17),Y=o()((function(e){return{root:{fontFamily:e.typography.fontFamily,alignItems:"center",borderRadius:2,display:"inline-flex",flexGrow:0,whiteSpace:"nowrap",cursor:"default",flexShrink:0,fontSize:e.typography.pxToRem(12),fontWeight:e.typography.fontWeightMedium,height:20,justifyContent:"center",letterSpacing:.5,minWidth:20,padding:e.spacing(.5,1),textTransform:"uppercase"},info:{color:e.palette.info.main,backgroundColor:Object(H.c)(e.palette.info.main,.08)},primary:{color:e.palette.primary.main,backgroundColor:Object(H.c)(e.palette.primary.main,.08)},secondary:{color:e.palette.secondary.main,backgroundColor:Object(H.c)(e.palette.secondary.main,.08)},error:{color:e.palette.error.main,backgroundColor:Object(H.c)(e.palette.error.main,.08)},success:{color:e.palette.success.main,backgroundColor:Object(H.c)(e.palette.success.main,.08)},warning:{color:e.palette.warning.main,backgroundColor:Object(H.c)(e.palette.warning.main,.08)}}}));function _(e){var a=e.className,t=e.color,n=e.children,r=(e.style,Object(f.a)(e,["className","color","children","style"])),c=Y();return l.a.createElement("span",Object.assign({className:Object(g.a)(c.root,Object(I.a)({},c[t],t),a)},r),n)}_.defaultProps={className:"",color:"secondary"};var M=_,B=t(858),L=t(830),U=t(800),W=t(824);var q=o()((function(e){return{card:Object(I.a)({display:"block"},e.breakpoints.up("md"),{display:"flex"})}}));var z=function(e){var a=e.contest,t=e.className,n=Object(f.a)(e,["contest","className"]),r=Object(i.g)(),c=q();return l.a.createElement(S.a,Object.assign({className:Object(g.a)(t),variant:"outlined"},n),l.a.createElement(v.a,{className:c.card},l.a.createElement(v.a,{p:2},l.a.createElement(v.a,{display:"flex",alignItems:"center"},l.a.createElement(B.a,null,l.a.createElement(G.a,null)),l.a.createElement(v.a,{ml:2},l.a.createElement(L.a,{color:"textPrimary",href:"https://codeforces.com/contests/".concat(a.id),target:"_blank",rel:"noopener",variant:"h5"},a.name)))),l.a.createElement(v.a,{flexGrow:1}),l.a.createElement(v.a,{py:2,px:1},l.a.createElement(k.a,{item:!0,alignItems:"center",container:!0,justify:"space-around",spacing:3,wrap:"nowrap"},l.a.createElement(k.a,{item:!0},l.a.createElement(U.a,{variant:"h5",color:"textPrimary",align:"center"},a.type),l.a.createElement(U.a,{variant:"body2",color:"textSecondary",align:"center"},"Type")),l.a.createElement(k.a,{item:!0},l.a.createElement(U.a,{variant:"h5",color:"textPrimary",align:"center"},D.a.unix(a.startTimeSeconds).format("DD-MM-YYYY HH:mm")),l.a.createElement(U.a,{variant:"body2",color:"textSecondary",align:"center"},"Start Time")),l.a.createElement(k.a,{item:!0},l.a.createElement(U.a,{variant:"h5",color:"textPrimary",align:"center"},(a.durationSeconds/3600).toString()+"H"),l.a.createElement(U.a,{variant:"body2",color:"textSecondary",align:"center"},"Duration")))),l.a.createElement(x.a,null),l.a.createElement(v.a,{py:2,pl:2,pr:3,display:"flex",alignItems:"center"},function(e){var a={BEFORE:{text:"BEFORE",color:"info"},CODING:{text:"CODING",color:"success"},PENDING_SYSTEM_TEST:{text:"PENDING_SYSTEM_TEST",color:"warning"},SYSTEM_TEST:{text:"SYSTEM_TEST",color:"warning"},FINISHED:{text:"FINISHED",color:"error"}}[e],t=a.text,n=a.color;return l.a.createElement(M,{color:n},t)}(a.phase),l.a.createElement(v.a,{flexGrow:1}),l.a.createElement(W.a,{onClick:function(e){e.preventDefault(),r.push("/app/contest/".concat(a.id))},variant:"outlined",color:"default",disabled:"CODING"!==a.phase&&"FINISHED"!==a.phase},"Standings"))))},A=[{value:"BEFORE",label:"BEFORE"},{value:"CODING",label:"CODING"},{value:"PENDING_SYSTEM_TEST",label:"PENDING SYSTEM TEST"},{value:"SYSTEM_TEST",label:"SYSTEM TEST"},{value:"FINISHED",label:"FINISHED"}],J=[{id:"all",name:"All"},{id:"CF",name:"CF"},{id:"ICPC",name:"ICPC"},{id:"IOI",name:"IOI"}];function K(e,a,t){return e.filter((function(e){var n=!0;return a&&!e.name.toLowerCase().includes(a.toLowerCase())&&(n=!1),t.phase&&e.phase!==t.phase&&(n=!1),t.contestType&&t.contestType!==e.type&&(n=!1),n}))}function Q(e,a,t){return e.slice(a*t,a*t+t)}var V=o()((function(e){return{root:{flexGrow:1},queryField:{width:500},avatar:{height:42,width:42,marginRight:e.spacing(1)},tablePagination:{bottom:0},typeField:{marginLeft:e.spacing(2),flexBasis:200}}})),X=l.a.memo((function(e){var a=e.className,t=e.contests,r=(e.setContests,Object(f.a)(e,["className","contests","setContests"])),c=V(),o=l.a.useState(0),i=Object(n.a)(o,2),s=i[0],m=i[1],u=l.a.useState(10),p=Object(n.a)(u,2),E=p[0],y=p[1],I=l.a.useState(""),F=Object(n.a)(I,2),D=F[0],R=F[1],G=l.a.useState({phase:"BEFORE",contestType:null}),H=Object(n.a)(G,2),Y=H[0],_=H[1],M=l.a.useState(!0),B=Object(n.a)(M,2),L=B[0],U=B[1],W=l.a.useState([]),q=Object(n.a)(W,2),X=q[0],Z=q[1],$=l.a.useState(K(X,D,Y)),ee=Object(n.a)($,2),ae=ee[0],te=ee[1],ne=l.a.useState(Q(ae,s,E)),re=Object(n.a)(ne,2),le=re[0],ce=re[1];l.a.useEffect((function(){Z(b.a.cloneDeep(t).reverse())}),[]),l.a.useEffect((function(){"BEFORE"===Y.phase?U(!0):U(!1)}),[Y]),l.a.useEffect((function(){te(K(L?X:t,D,Y))}),[t,X,L,D,Y]),l.a.useEffect((function(){ce(Q(ae,s,E))}),[ae,s,E]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{position:"static",color:"transparent"},l.a.createElement(T.a,{onChange:function(e,a){e.persist(),_((function(e){return Object(d.a)({},e,{phase:a})}))},scrollButtons:"auto",textColor:"secondary",indicatorColor:"primary",value:Y.phase,variant:"scrollable"},A.map((function(e){return l.a.createElement(j.a,{key:e.value,value:e.value,label:e.label})})))),l.a.createElement(h.a,{position:"sticky",color:"inherit"},l.a.createElement(v.a,{p:1,display:"flex",alignItems:"center"},l.a.createElement(N.a,{className:c.queryField,InputProps:{startAdornment:l.a.createElement(O.a,{position:"start"},l.a.createElement(C.a,{fontSize:"small",color:"action"},l.a.createElement(P.a,null)))},onChange:function(e){e.persist(),R(e.target.value)},placeholder:"Search contests",value:D,variant:"outlined"}),l.a.createElement(v.a,{flexGrow:1}),l.a.createElement(N.a,{className:c.typeField,label:"Contest Type",name:"contestType",onChange:function(e){e.persist();var a=null;"all"!==e.target.value&&(a=e.target.value),_((function(e){return Object(d.a)({},e,{contestType:a})}))},select:!0,SelectProps:{native:!0},value:Y.contestType||"all",variant:"outlined"},J.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),l.a.createElement(S.a,Object.assign({className:Object(g.a)(c.root,a)},r),l.a.createElement(x.a,null),l.a.createElement(k.a,{container:!0,direction:"column",alignContent:"center",spacing:2},le.map((function(e){return l.a.createElement(k.a,{key:e.id,item:!0},l.a.createElement(z,{contest:e}))})))),l.a.createElement(h.a,{position:"sticky",color:"inherit",className:c.tablePagination},l.a.createElement(w.a,{component:"div",count:ae.length,onChangePage:function(e,a){m(a)},onChangeRowsPerPage:function(e){y(e.target.value)},page:s,rowsPerPage:E,rowsPerPageOptions:[5,10,25,50,100]})))}));X.defaultProps={contests:[]};var Z=X,$=t(528),ee=t(509),ae=t.n(ee),te=t(841),ne=t(805),re=t(1016),le=t.n(re),ce=t(1045),oe=o()((function(){return{root:{flexGrow:1}}}));var ie=function(e){var a=e.problems,t=oe(),n=new le.a;return l.a.createElement(S.a,{className:Object(g.a)(t.root)},l.a.createElement(k.a,{container:!0,spacing:1},a.map((function(e){return l.a.createElement(k.a,{key:e.name+e.index,item:!0,lg:4,xl:3,md:4,sm:6,xs:12},l.a.createElement(S.a,{variant:"outlined"},l.a.createElement(v.a,{p:2},l.a.createElement(v.a,{display:"flex",alignItems:"center"},l.a.createElement(B.a,null,e.index),l.a.createElement(v.a,{ml:2},l.a.createElement(L.a,{color:"textPrimary",href:"https://codeforces.com/contest/".concat(e.contestId,"/problem/").concat(e.index),target:"_blank",rel:"noopener",variant:"h5"},e.name)))),l.a.createElement(v.a,{py:2,px:3},l.a.createElement(k.a,{item:!0,alignItems:"center",container:!0,justify:"space-between",spacing:3},l.a.createElement(k.a,{item:!0},l.a.createElement(U.a,{variant:"h5",color:"textPrimary"},e.type),l.a.createElement(U.a,{variant:"body2",color:"textSecondary"},"Type")),l.a.createElement(k.a,{item:!0},l.a.createElement(U.a,{variant:"h5",color:"textPrimary"},e.points),l.a.createElement(U.a,{variant:"body2",color:"textSecondary"},"Points")),l.a.createElement(k.a,{item:!0},l.a.createElement(U.a,{variant:"h5",color:"textPrimary"},e.rating),l.a.createElement(U.a,{variant:"body2",color:"textSecondary"},"Rating")))),l.a.createElement(x.a,null),l.a.createElement(v.a,{p:2,display:"flex",alignItems:"center",overflow:"auto"},e.tags.map((function(e){return l.a.createElement(ce.a,{key:e,label:e,style:{borderColor:n.hex(e+"CodeTeam")},variant:"outlined"})})))))}))))},se=t(850),me=t(854),ue=t(853),pe=t(851),Ee=t(852),de=t(1041),fe=t(1028),ye=t(187),be=t.n(ye),ge=t(382);var he=o()((function(e){return{root:{flexGrow:1},queryField:{width:500},avatar:{height:42,width:42,marginRight:e.spacing(1)},tablePagination:{position:"fixed",bottom:0,left:0,right:0},divider:{width:1,height:24,marginLeft:e.spacing(2),marginRight:e.spacing(2)},showUnofficialField:{marginLeft:e.spacing(2)}}}));function ve(e){var a=e.className,t=e.contestants,r=e.problems,c=Object(f.a)(e,["className","contestants","problems"]),o=he(),i=l.a.useState(0),s=Object(n.a)(i,2),m=s[0],u=s[1],p=l.a.useState(10),E=Object(n.a)(p,2),d=E[0],y=E[1],b=l.a.useState(""),j=Object(n.a)(b,2),k=j[0],T=j[1],I=l.a.useState(!1),F=Object(n.a)(I,2),D=F[0],R=F[1],G=function(e,a,t){return e.filter((function(e){var n=!0;if(a){var r=!1;["handle"].forEach((function(t){e.party.members[0][t].toLowerCase().includes(a.toLowerCase())&&(r=!0)})),r||(n=!1)}return"CONTESTANT"===e.party.participantType||t||(n=!1),n}))}(t,k,D),H=function(e,a,t){return e.slice(a*t,a*t+t)}(G,m,d);return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{position:"sticky",color:"inherit"},l.a.createElement(v.a,{p:1,display:"flex",alignItems:"center"},l.a.createElement(N.a,{className:o.queryField,InputProps:{startAdornment:l.a.createElement(O.a,{position:"start"},l.a.createElement(C.a,{fontSize:"small",color:"action"},l.a.createElement(P.a,null)))},onChange:function(e){e.persist(),T(e.target.value)},placeholder:"Search contestants",value:k,variant:"outlined"}),l.a.createElement(v.a,{flexGrow:1}),l.a.createElement(U.a,{variant:"body2",color:"textPrimary"},l.a.createElement(fe.a,{className:o.showUnofficialField,control:l.a.createElement(de.a,{checked:D,onChange:function(e){e.persist(),R((function(e){return!e}))},name:"showUnofficial"}),label:"Show Unofficial"})))),l.a.createElement(S.a,Object.assign({className:Object(g.a)(o.root,a)},c),l.a.createElement(x.a,null),l.a.createElement(v.a,{overflow:"auto"},l.a.createElement(se.a,{stickyHeader:!0},l.a.createElement(pe.a,null,l.a.createElement(Ee.a,null,l.a.createElement(ue.a,null,"Rank"),l.a.createElement(ue.a,null,"Handle"),l.a.createElement(ue.a,null,"Points"),l.a.createElement(ue.a,null,"Penalty"),l.a.createElement(ue.a,null,"HackCount"))),l.a.createElement(me.a,null,H.map((function(e){return l.a.createElement(l.a.Fragment,{key:e.party.members[0].handle+e.party.participantType},l.a.createElement(Ee.a,null,l.a.createElement(ue.a,null,e.rank),l.a.createElement(ue.a,null,l.a.createElement(v.a,{display:"flex",alignItems:"center"},l.a.createElement(B.a,{className:o.avatar},Object(ge.a)(e.party.members[0].handle)),l.a.createElement("div",null,l.a.createElement(L.a,{color:"inherit",href:"https://codeforces.com/profile/".concat(e.party.members[0].handle),target:"_blank",rel:"noopener"},e.party.members[0].handle),l.a.createElement(U.a,{variant:"body2",color:"textSecondary"},e.party.participantType)))),l.a.createElement(ue.a,null,e.points),l.a.createElement(ue.a,null,e.penalty),l.a.createElement(ue.a,null,l.a.createElement(v.a,{display:"flex"},l.a.createElement(U.a,{variant:"body2",style:{color:be.a[500]}},e.successfulHackCount),l.a.createElement(x.a,{className:o.divider}),l.a.createElement(U.a,{variant:"body2",color:"error"},e.unsuccessfulHackCount)))),l.a.createElement(Ee.a,{key:e.party.members[0].handle+"Score"},l.a.createElement(ue.a,{colSpan:5},l.a.createElement(v.a,{display:"flex",color:"transparent",justifyContent:"center"},e.problemResults.map((function(a,t){return l.a.createElement(ce.a,{key:r[t].index+e.party.members[0].handle,style:{margin:"0 5px"},avatar:l.a.createElement(B.a,null,r[t].index),label:a.points,variant:"outlined"})}))))))})))))),l.a.createElement(h.a,{color:"inherit",position:"sticky",style:{bottom:0}},l.a.createElement(w.a,{component:"div",count:G.length,onChangePage:function(e,a){u(a)},onChangeRowsPerPage:function(e){y(e.target.value)},page:m,rowsPerPage:d,rowsPerPageOptions:[5,10,25,50,100]})))}ve.defaultProps={contestants:[]};var Se=ve,xe=t(218),Oe=function(e){var a=e.contestId,t=e.handles,r=Object(i.g)(),c=l.a.useState(1),o=Object(n.a)(c,2),s=o[0],m=o[1],p=l.a.useState(!0),d=Object(n.a)(p,2),f=d[0],y=d[1],b=l.a.createRef(),g=E(),S=l.a.useState(null),x=Object(n.a)(S,2),O=x[0],C=x[1],k=l.a.useCallback((function(){u.a.get("https://codeforces.com/api/contest.standings?contestId=".concat(a,"&showUnofficial=true&handles=").concat(t.join(";"))).then((function(e){g.current&&C(e.data.result)}))}),[g,a,t]);l.a.useEffect((function(){k()}),[k]);return O?l.a.createElement($.a,{direction:"down",in:f,onExit:function(){r.goBack()},mountOnEnter:!0,unmountOnExit:!0},l.a.createElement("div",{ref:b},l.a.createElement(h.a,{position:"static",color:"transparent"},l.a.createElement(te.a,{variant:"dense"},l.a.createElement(ne.a,{onClick:function(){y(!1)},size:"medium",edge:"start",color:"primary"},l.a.createElement(ae.a,null)),l.a.createElement(U.a,{noWrap:!0,variant:"h5",color:"textPrimary"},O.contest.name))),l.a.createElement(h.a,{position:"sticky",color:"inherit"},l.a.createElement(T.a,{onChange:function(e,a){m(a)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example",value:s},l.a.createElement(j.a,{value:0,label:"Problems"}),l.a.createElement(j.a,{value:1,label:"Standings"}))),l.a.createElement(v.a,{display:0===s?"block":"none"}," ",l.a.createElement(ie,{problems:O.problems})),l.a.createElement(v.a,{display:1===s?"block":"none"},l.a.createElement(Se,{contestants:O.rows,problems:O.problems})))):l.a.createElement(xe.a,null)},Ce=o()((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%"}}}));a.default=function(){var e=Ce(),a=Object(i.i)().contestId,t=l.a.useRef(null),r=E(),c=l.a.useState(null),o=Object(n.a)(c,2),m=o[0],d=o[1],f=l.a.useState(null),y=Object(n.a)(f,2),b=y[0],g=y[1],h=l.a.useCallback((function(){u.a.get("https://codeforces.com/api/contest.list").then((function(e){r.current&&d(e.data.result)}))}),[r]),S=l.a.useCallback((function(){s.a.get(" https://api.cp-leaderboard.me/user/handle").then((function(e){r.current&&g(e.data.handle)}))}),[r]);return l.a.useEffect((function(){h(),S()}),[h,S]),m?l.a.createElement(p.a,{className:e.root,title:"Contest",ref:t},l.a.createElement(v.a,{display:a?"none":"block"},l.a.createElement(Z,{contests:m,setContests:d})),a&&l.a.createElement(Oe,{contestId:a,handles:b})):l.a.createElement(xe.a,null)}}}]);