(this["webpackJsonpleaderbored-ui"]=this["webpackJsonpleaderbored-ui"]||[]).push([[12],{818:function(e,a,t){"use strict";var n=t(62);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(294)).default)(r.default.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");a.default=l},880:function(e,a,t){"use strict";t.r(a);var n=t(38),r=t(0),l=t.n(r),s=t(44),i=t(18),o=t(857),c=t(780),m=t(785),u=t(758),d=t(746),p=t(779),b=t(848),h=t(858),v=t(766),f=t(765),g=t(730),E=t(20),S=t.n(E),w=t(818),y=t.n(w),x=t(291),j=t(54),k=t.n(j),O=t(85),N=t(43),B=t(81),C=t(3),P=t(163),q=t(795),z=t(790),V=t(757),W=t(467),F=t.n(W),L=t(775),M=t(744),T=t(107),H=S()((function(){return{buttonProgress:{color:F.a[500],position:"relative",left:"50%",marginTop:-32,marginLeft:-12}}}));function D(e){var a=e.className,t=e.onSubmitSuccess,n=Object(N.a)(e,["className","onSubmitSuccess"]),r=Object(P.b)().enqueueSnackbar,s=H(),i=Object(B.a)();return l.a.createElement(z.a,{initialValues:{email:"",password:""},validationSchema:q.a().shape({email:q.c().email("Must be a valid email").max(255).required("Email is required"),password:q.c().max(255).required("Password is required")}),onSubmit:function(){var e=Object(O.a)(k.a.mark((function e(a,n){var l,s,o,c,m;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.setErrors,s=n.setStatus,o=n.setSubmitting,c=n.resetForm,e.prev=1,e.next=4,i(Object(T.c)(a.email,a.password));case 4:c(),s({success:!0}),o(!1),r("Successfully logged in",{variant:"success"}),t(),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),m=e.t0.response&&e.t0.response.data.detail||"Something went wrong",s({success:!1}),l({submit:m}),o(!1);case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a,t){return e.apply(this,arguments)}}()},(function(e){var t=e.errors,r=e.handleBlur,i=e.handleChange,o=e.handleSubmit,c=e.isSubmitting,m=e.touched,p=e.values;return l.a.createElement("form",Object.assign({noValidate:!0,className:Object(C.a)(s.root,a),onSubmit:o},n),l.a.createElement(L.a,{error:Boolean(m.email&&t.email),fullWidth:!0,autoFocus:!0,helperText:m.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:r,onChange:i,type:"email",value:p.email,variant:"outlined"}),l.a.createElement(L.a,{error:Boolean(m.password&&t.password),fullWidth:!0,helperText:m.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:r,onChange:i,type:"password",value:p.password,variant:"outlined"}),l.a.createElement(d.a,{mt:2},l.a.createElement(u.a,{color:"secondary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Log In"),c&&l.a.createElement(V.a,{size:32,className:s.buttonProgress}),t.submit&&l.a.createElement(d.a,{mt:3},l.a.createElement(M.a,{error:!0},t.submit))))}))}D.defaultProps={onSubmitSuccess:function(){}};var _=D,A=t(93),I=S()((function(){return{buttonProgress:{color:F.a[500],position:"relative",left:"50%",marginTop:-32,marginLeft:-12}}}));var J=function(e){var a=e.className,t=Object(N.a)(e,["className"]),n=Object(P.b)().enqueueSnackbar,r=I();return l.a.createElement(z.a,{initialValues:{email:""},validationSchema:q.a().shape({email:q.c().email("Must be a valid email").max(255).required("Email is required")}),onSubmit:function(){var e=Object(O.a)(k.a.mark((function e(a,t){var r,l,s,i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.setErrors,l=t.setStatus,s=t.setSubmitting,i=t.resetForm,e.prev=1,e.next=4,A.a.post("https://api.cp-leaderboard.me/login/reset_password",{email:a.email});case 4:i(),l({success:!0}),s(!1),n("Sent. Please check your email (Spam folder as well).",{variant:"success"}),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),o=e.t0.response&&e.t0.response.data.detail||"Something went wrong",l({success:!1}),r({submit:o}),s(!1);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a,t){return e.apply(this,arguments)}}()},(function(e){var n=e.errors,s=e.handleBlur,i=e.handleChange,o=e.handleSubmit,c=e.isSubmitting,m=e.touched,p=e.values;return l.a.createElement("form",Object.assign({noValidate:!0,className:Object(C.a)(r.root,a),onSubmit:o},t),l.a.createElement(L.a,{error:Boolean(m.email&&n.email),fullWidth:!0,autoFocus:!0,helperText:m.email&&n.email,label:"Email Address",margin:"normal",name:"email",onBlur:s,onChange:i,type:"email",value:p.email,variant:"outlined"}),l.a.createElement(d.a,{mt:2},l.a.createElement(u.a,{color:"secondary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Send Reset Email"),c&&l.a.createElement(V.a,{size:32,className:r.buttonProgress}),n.submit&&l.a.createElement(d.a,{mt:3},l.a.createElement(M.a,{error:!0},n.submit))))}))},R=S()((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",minHeight:"100%",flexDirection:"column",justifyContent:"center"},content:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}}));a.default=function(){var e=R(),a=Object(i.g)(),t=l.a.useState(!1),r=Object(n.a)(t,2),E=r[0],S=r[1];return l.a.createElement(x.a,{className:e.root,title:"Login"},l.a.createElement(p.a,{component:"main",maxWidth:"xs"},l.a.createElement(b.a,{className:e.card},l.a.createElement(o.a,{avatar:l.a.createElement(u.a,{component:s.a,to:"/home",variant:"outlined",color:"primary"},"Back to home")}),l.a.createElement(h.a,{className:e.content},l.a.createElement(d.a,null,l.a.createElement(m.a,{className:e.avatar},l.a.createElement(y.a,null)),l.a.createElement(g.a,{component:"h1",variant:"h5"},"Sign in")),l.a.createElement(d.a,{mt:3},l.a.createElement(_,{onSubmitSuccess:function(){a.push("/app")}})),l.a.createElement(d.a,null,E&&l.a.createElement(J,null)),l.a.createElement(d.a,{my:2},l.a.createElement(v.a,null)),l.a.createElement(c.a,{container:!0},l.a.createElement(c.a,{item:!0,xs:!0},l.a.createElement(f.a,{onClick:function(){S((function(e){return!e}))},variant:"body2"},"Forgot password?")),l.a.createElement(c.a,{item:!0},l.a.createElement(f.a,{component:s.a,to:"/register",variant:"body2"},"Don't have an account? Sign Up")))))))}}}]);