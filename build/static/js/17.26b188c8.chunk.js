(this["webpackJsonpleaderbored-ui"]=this["webpackJsonpleaderbored-ui"]||[]).push([[17],{860:function(e,a,t){"use strict";t.r(a);var r=t(54),n=t.n(r),s=t(85),o=t(0),i=t.n(o),l=t(295),c=t.n(l),d=t(746),m=t(779),u=t(20),p=t.n(u),w=t(795),h=t(790),f=t(163),b=t(758),g=t(848),E=t(858),v=t(857),C=t(766),x=t(744),y=t(780),k=t(775),S=t(18),P=t(44),j=t(291),q=p()((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",padding:e.spacing(3)},image:{maxWidth:"100%",width:560,maxHeight:300,height:"auto"}}}));a.default=function(){var e=q(),a=Object(S.i)().resetToken,t=Object(f.b)().enqueueSnackbar;return i.a.createElement(j.a,{className:e.root,title:"Password Reset"},i.a.createElement(m.a,{maxWidth:"lg"},i.a.createElement(d.a,{mt:6,display:"flex",justifyContent:"center"},i.a.createElement("img",{alt:"Under development",className:e.image,src:"/static/images/undraw_authentication_fsn5.svg"})),i.a.createElement(d.a,{mt:3},i.a.createElement(h.a,{initialValues:{password:"",passwordConfirm:""},validationSchema:w.a().shape({password:w.c().min(7,"Must be at least 7 characters").max(255).required("Required"),passwordConfirm:w.c().oneOf([w.b("password"),null],"Passwords must match").required("Required")}),onSubmit:function(){var e=Object(s.a)(n.a.mark((function e(r,s){var o,i,l,d,m;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.resetForm,i=s.setErrors,l=s.setStatus,d=s.setSubmitting,e.prev=1,e.next=4,c.a.post("https://api.cp-leaderboard.me/login/reset_password/".concat(a),{password:r.password});case 4:o(),l({success:!0}),d(!1),t("Password updated",{variant:"success"}),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),m=e.t0.response&&e.t0.response.data.detail||"Something went wrong",l({success:!1}),i({submit:m}),d(!1);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a,t){return e.apply(this,arguments)}}()},(function(a){var t=a.errors,r=a.handleBlur,n=a.handleChange,s=a.handleSubmit,o=a.isSubmitting,l=a.touched,c=a.values;return i.a.createElement("form",{onSubmit:s},i.a.createElement(g.a,{className:e.root},i.a.createElement(v.a,{title:"Change Password"}),i.a.createElement(C.a,null),i.a.createElement(E.a,null,i.a.createElement(y.a,{container:!0,spacing:3},i.a.createElement(y.a,{item:!0,md:4,sm:6,xs:12},i.a.createElement(k.a,{error:Boolean(l.password&&t.password),fullWidth:!0,helperText:l.password&&t.password,label:"Password",name:"password",onBlur:r,onChange:n,type:"password",value:c.password,variant:"outlined"})),i.a.createElement(y.a,{item:!0,md:4,sm:6,xs:12},i.a.createElement(k.a,{error:Boolean(l.passwordConfirm&&t.passwordConfirm),fullWidth:!0,helperText:l.passwordConfirm&&t.passwordConfirm,label:"Password Confirmation",name:"passwordConfirm",onBlur:r,onChange:n,type:"password",value:c.passwordConfirm,variant:"outlined"}))),t.submit&&i.a.createElement(d.a,{mt:3},i.a.createElement(x.a,{error:!0},t.submit))),i.a.createElement(C.a,null),i.a.createElement(d.a,{p:2,display:"flex",justifyContent:"flex-end"},i.a.createElement(b.a,{color:"secondary",disabled:o,type:"submit",variant:"contained"},"Change Password"))))}))),i.a.createElement(d.a,{mt:2,display:"flex",justifyContent:"center"},i.a.createElement(b.a,{color:"secondary",component:P.a,to:"/login",variant:"outlined"},"Go to Login"))))}}}]);