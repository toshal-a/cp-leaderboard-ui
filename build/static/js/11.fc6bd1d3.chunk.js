(this["webpackJsonpleaderbored-ui"]=this["webpackJsonpleaderbored-ui"]||[]).push([[11],{817:function(e,a,t){"use strict";var n=t(61);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(292)).default)(r.default.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");a.default=l},873:function(e,a,t){"use strict";t.r(a);var n=t(38),r=t(0),l=t.n(r),i=t(44),s=t(18),o=t(854),c=t(779),m=t(784),u=t(758),d=t(746),p=t(778),b=t(846),v=t(855),h=t(765),f=t(764),E=t(730),g=t(20),S=t.n(g),w=t(817),x=t.n(w),y=t(291),j=t(66),k=t.n(j),O=t(103),N=t(43),C=t(80),B=t(3),q=t(165),z=t(796),P=t(797),V=t(757),W=t(466),F=t.n(W),L=t(774),M=t(744),T=t(107),H=S()((function(){return{buttonProgress:{color:F.a[500],position:"relative",left:"50%",marginTop:-32,marginLeft:-12}}}));function D(e){var a=e.className,t=e.onSubmitSuccess,n=Object(N.a)(e,["className","onSubmitSuccess"]),r=Object(q.b)().enqueueSnackbar,i=H(),s=Object(C.a)();return l.a.createElement(P.a,{initialValues:{email:"",password:""},validationSchema:z.a().shape({email:z.c().email("Must be a valid email").max(255).required("Email is required"),password:z.c().max(255).required("Password is required")}),onSubmit:function(){var e=Object(O.a)(k.a.mark((function e(a,n){var l,i,o,c,m;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.setErrors,i=n.setStatus,o=n.setSubmitting,c=n.resetForm,e.prev=1,e.next=4,s(Object(T.c)(a.email,a.password));case 4:c(),i({success:!0}),o(!1),r("Successfully logged in",{variant:"success"}),t(),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),m=e.t0.response&&e.t0.response.data.detail||"Something went wrong",i({success:!1}),l({submit:m}),o(!1);case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a,t){return e.apply(this,arguments)}}()},(function(e){var t=e.errors,r=e.handleBlur,s=e.handleChange,o=e.handleSubmit,c=e.isSubmitting,m=e.touched,p=e.values;return l.a.createElement("form",Object.assign({noValidate:!0,className:Object(B.a)(i.root,a),onSubmit:o},n),l.a.createElement(L.a,{error:Boolean(m.email&&t.email),fullWidth:!0,autoFocus:!0,helperText:m.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:r,onChange:s,type:"email",value:p.email,variant:"outlined"}),l.a.createElement(L.a,{error:Boolean(m.password&&t.password),fullWidth:!0,helperText:m.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:r,onChange:s,type:"password",value:p.password,variant:"outlined"}),l.a.createElement(d.a,{mt:2},l.a.createElement(u.a,{color:"secondary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Log In"),c&&l.a.createElement(V.a,{size:32,className:i.buttonProgress}),t.submit&&l.a.createElement(d.a,{mt:3},l.a.createElement(M.a,{error:!0},t.submit))))}))}D.defaultProps={onSubmitSuccess:function(){}};var _=D,A=t(91),I=S()((function(){return{buttonProgress:{color:F.a[500],position:"relative",left:"50%",marginTop:-32,marginLeft:-12}}}));var J=function(e){var a=e.className,t=Object(N.a)(e,["className"]),n=Object(q.b)().enqueueSnackbar,r=I();return l.a.createElement(P.a,{initialValues:{email:""},validationSchema:z.a().shape({email:z.c().email("Must be a valid email").max(255).required("Email is required")}),onSubmit:function(){var e=Object(O.a)(k.a.mark((function e(a,t){var r,l,i,s,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.setErrors,l=t.setStatus,i=t.setSubmitting,s=t.resetForm,e.prev=1,e.next=4,A.a.post("https://api.cp-leaderboard.me/login/reset_password",{email:a.email});case 4:s(),l({success:!0}),i(!1),n("Email Sent. Check Spam folder if not in inbox.",{variant:"success"}),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),o=e.t0.response&&e.t0.response.data.detail||"Something went wrong",l({success:!1}),r({submit:o}),i(!1);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a,t){return e.apply(this,arguments)}}()},(function(e){var n=e.errors,i=e.handleBlur,s=e.handleChange,o=e.handleSubmit,c=e.isSubmitting,m=e.touched,p=e.values;return l.a.createElement("form",Object.assign({noValidate:!0,className:Object(B.a)(r.root,a),onSubmit:o},t),l.a.createElement(L.a,{error:Boolean(m.email&&n.email),fullWidth:!0,autoFocus:!0,helperText:m.email&&n.email,label:"Email Address",margin:"normal",name:"email",onBlur:i,onChange:s,type:"email",value:p.email,variant:"outlined"}),l.a.createElement(d.a,{mt:2},l.a.createElement(u.a,{color:"secondary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Send Reset Email"),c&&l.a.createElement(V.a,{size:32,className:r.buttonProgress}),n.submit&&l.a.createElement(d.a,{mt:3},l.a.createElement(M.a,{error:!0},n.submit))))}))},R=S()((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",minHeight:"100%",flexDirection:"column",justifyContent:"center"},content:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}}));a.default=function(){var e=R(),a=Object(s.g)(),t=l.a.useState(!1),r=Object(n.a)(t,2),g=r[0],S=r[1];return l.a.createElement(y.a,{className:e.root,title:"Login"},l.a.createElement(p.a,{component:"main",maxWidth:"xs"},l.a.createElement(b.a,{className:e.card},l.a.createElement(o.a,{avatar:l.a.createElement(u.a,{component:i.a,to:"/",variant:"outlined",color:"primary"},"Back to home")}),l.a.createElement(v.a,{className:e.content},l.a.createElement(d.a,null,l.a.createElement(m.a,{className:e.avatar},l.a.createElement(x.a,null)),l.a.createElement(E.a,{component:"h1",variant:"h5"},"Sign in")),l.a.createElement(d.a,{mt:3},l.a.createElement(_,{onSubmitSuccess:function(){a.push("/app")}})),l.a.createElement(d.a,null,g&&l.a.createElement(J,null)),l.a.createElement(d.a,{my:2},l.a.createElement(h.a,null)),l.a.createElement(c.a,{container:!0},l.a.createElement(c.a,{item:!0,xs:!0},l.a.createElement(f.a,{onClick:function(){S((function(e){return!e}))},variant:"body2"},"Forgot password?")),l.a.createElement(c.a,{item:!0},l.a.createElement(f.a,{component:i.a,to:"/register",variant:"body2"},"Don't have an account? Sign Up")))))))}}}]);